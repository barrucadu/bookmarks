{% extends "_layout.html" %}
{% block body %}
{% if allow_writes %}
<nav class="page-navigation"><a href="add">Submit a new link</a></nav>
{% endif %}
<form class="search-form">
  <input type="text" class="search-form__input" name="q" value="{% if q %}{{ q|e }}{% endif %}">
</form>
<p class="result-count">
  {% if results|length == 1 %}1 result{% else %}{{ count|e }} results{% endif %}
</p>
{% if results %}
<ol class="results">
  {% for result in results %}
  {% include "_result.partial.html" %}
  {% endfor %}
</ol>
{% endif %}
{% if page > 1 %}
<div class="pagination">
  <h2 class="pagination__link"><a href="search?q={{ q|quote_plus }}&amp;page={{ (page-1)|e }}">Previous page</a></h2>
  <p class="pagination__info">Page {{ (page-1)|e }} of {{ pages|e }}.</p>
</div>
{% endif %}
{% if page < pages %}
<div class="pagination">
  <h2 class="pagination__link"><a href="search?q={{ q|quote_plus }}&amp;page={{ (page+1)|e }}">Next page</a></h2>
  <p class="pagination__info">Page {{ (page+1)|e }} of {{ pages|e }}.</p>
</div>
{% endif %}
{% endblock %}
